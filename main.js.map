{"version":3,"file":"main.js","sources":["../../src/js/main.js"],"sourcesContent":["import \"../style/scss/main.scss\";\n\nconst NUM_STARS = 200;\nconst STAR_DATA = generateStarData(NUM_STARS);\n\nfunction createStar({x, y}, index, debug) {\n    const starContainer = document.createElementNS(\"http://www.w3.org/2000/svg\", 'g');\n\n    const starTranslate = document.createElementNS(\"http://www.w3.org/2000/svg\", 'g');\n    starTranslate.setAttribute('transform', `translate(${x} ${y})`);\n\n    // const radius = (Math.random() + Math.random() + Math.random()) / 3 * 2 + 0.5;\n    const radius = randn_bm(0.5, 4.5, 2.7);\n    const delay = index * 100 + 500 * Math.random();\n    const duration = 3000 + Math.random() * 4000;\n    const brightness = 0.9 + Math.random() * 0.1;\n\n\n    const star = document.createElementNS(\"http://www.w3.org/2000/svg\", 'circle');\n    star.setAttribute('r', radius);\n    star.classList.add('star');\n\n    star.style.setProperty('--star-animation-delay', `${delay}ms`);\n    star.style.setProperty('--star-animation-duration', `${duration}ms`);\n    star.style.setProperty('--star-animation-flickering-duration', (Math.random()*200 + 50) + 'ms');\n    star.style.setProperty('--star-brightness', `${brightness}`);\n\n    starTranslate.appendChild(star);\n    starContainer.appendChild(starTranslate);\n\n    return starContainer;\n}\n\n\n\nfunction createNightSky({container, debug, starReference}) {\n    STAR_DATA.forEach((data, index) => {\n        const star = createStar(data, index, debug);\n        container.appendChild(star);\n    })\n}\n\nconst starGroup = document.getElementById('starGroup');\n\ncreateNightSky({container: starGroup, data: STAR_DATA});\n\n\n// this is here to make the actual code more accessible- will be avaialble at the top through hoisting\nfunction generateStarData(numStars) {\n    let skyWidth = window.innerWidth || document.clientWidth || document.body.clientWidth;\n    let skyHeight = window.innerHeight|| document.clientHeight|| document.body.clientHeight;\n    let stars = [];\n    for (let i = 0; i < numStars; i ++){\n        stars.push({\"x\": Math.random()*skyWidth, \"y\":Math.random()*skyHeight});\n    }\n\n    return stars\n}\n\nfunction randn_bm(min, max, skew) {\n    let u = 0, v = 0;\n    while(u === 0) u = Math.random(); //Converting [0,1) to (0,1)\n    while(v === 0) v = Math.random();\n    let num = Math.sqrt( -2.0 * Math.log( u ) ) * Math.cos( 2.0 * Math.PI * v );\n\n    num = num / 10.0 + 0.5; // Translate to 0 -> 1\n    if (num > 1 || num < 0) num = randn_bm(min, max, skew); // resample between 0 and 1 if out of range\n    num = Math.pow(num, skew); // Skew\n    num *= max - min; // Stretch to fill range\n    num += min; // offset to min\n    return num;\n}"],"names":["STAR_DATA","numStars","skyWidth","window","innerWidth","document","clientWidth","body","skyHeight","innerHeight","clientHeight","stars","i","push","x","Math","random","y","generateStarData","createStar","index","debug","starContainer","createElementNS","starTranslate","setAttribute","radius","randn_bm","min","max","skew","u","v","num","sqrt","log","cos","PI","pow","delay","duration","brightness","star","classList","add","style","setProperty","appendChild","container","starReference","forEach","data","createNightSky","getElementById"],"mappings":"AAEA,MACMA,EA6CN,SAA0BC,GACtB,IAAIC,EAAWC,OAAOC,YAAcC,SAASC,aAAeD,SAASE,KAAKD,YACtEE,EAAYL,OAAOM,aAAcJ,SAASK,cAAeL,SAASE,KAAKG,aACvEC,EAAQ,GACZ,IAAK,IAAIC,EAAI,EAAGA,EAAIX,EAAUW,IAC1BD,EAAME,KAAK,CAACC,EAAKC,KAAKC,SAASd,EAAUe,EAAIF,KAAKC,SAASR,IAG/D,OAAOG,EArDOO,CADA,KAGlB,SAASC,GAAWL,EAACA,EAACG,EAAEA,GAAIG,EAAOC,GAC/B,MAAMC,EAAgBjB,SAASkB,gBAAgB,6BAA8B,KAEvEC,EAAgBnB,SAASkB,gBAAgB,6BAA8B,KAC7EC,EAAcC,aAAa,YAAa,aAAaX,KAAKG,MAG1D,MAAMS,EA+CV,SAASC,EAASC,EAAKC,EAAKC,GACxB,IAAIC,EAAI,EAAGC,EAAI,EACf,KAAY,IAAND,GAASA,EAAIhB,KAAKC,SACxB,KAAY,IAANgB,GAASA,EAAIjB,KAAKC,SACxB,IAAIiB,EAAMlB,KAAKmB,MAAO,EAAMnB,KAAKoB,IAAKJ,IAAQhB,KAAKqB,IAAK,EAAMrB,KAAKsB,GAAKL,GAExEC,EAAMA,EAAM,GAAO,IACfA,EAAM,GAAKA,EAAM,KAAGA,EAAMN,EAASC,EAAKC,EAAKC,IAIjD,OAHAG,EAAMlB,KAAKuB,IAAIL,EAAKH,GACpBG,GAAOJ,EAAMD,EACbK,GAAOL,EACAK,EA1DQN,CAAS,GAAK,IAAK,KAC5BY,EAAgB,IAARnB,EAAc,IAAML,KAAKC,SACjCwB,EAAW,IAAuB,IAAhBzB,KAAKC,SACvByB,EAAa,GAAsB,GAAhB1B,KAAKC,SAGxB0B,EAAOrC,SAASkB,gBAAgB,6BAA8B,UAYpE,OAXAmB,EAAKjB,aAAa,IAAKC,GACvBgB,EAAKC,UAAUC,IAAI,QAEnBF,EAAKG,MAAMC,YAAY,yBAA6BP,EAAH,MACjDG,EAAKG,MAAMC,YAAY,4BAAgCN,EAAH,MACpDE,EAAKG,MAAMC,YAAY,uCAAuD,IAAd/B,KAAKC,SAAe,GAAM,MAC1F0B,EAAKG,MAAMC,YAAY,oBAAqB,GAAGL,GAE/CjB,EAAcuB,YAAYL,GAC1BpB,EAAcyB,YAAYvB,GAEnBF,GAKX,UAAwB0B,UAACA,EAAS3B,MAAEA,EAAK4B,cAAEA,IACvCjD,EAAUkD,QAAQ,CAACC,EAAM/B,KACrB,MAAMsB,EAAOvB,EAAWgC,EAAM/B,GAC9B4B,EAAUD,YAAYL,KAM9BU,CAAe,CAACJ,UAFE3C,SAASgD,eAAe,aAEJF,KAAMnD"}